import{b as me,c as ue,d as pe}from"./chunk-PXMG554X.js";import{d as ie}from"./chunk-OOXUCXBP.js";import{a as oe,b as ae,c as se,d as le,e as de}from"./chunk-NKX3UZL4.js";import{a as X}from"./chunk-2K4SJ73M.js";import"./chunk-ZE63RMGP.js";import{f as re,g as ne}from"./chunk-YON6FDL7.js";import"./chunk-WCGJ44IN.js";import{e as te}from"./chunk-JIADJPRY.js";import{f as N,l as P}from"./chunk-GDYLA26G.js";import{Ia as O,Ja as j,Ka as S,M as B,Ma as G,Na as L,Pa as $,Ra as U,Sa as z,Ua as Y,Va as q,Wa as J,Xa as Q,_a as W,mb as Z,nb as ee,ta as H,z as h}from"./chunk-HCLBS2C6.js";import{Da as I,Eb as u,Ia as M,Jb as D,Kc as R,Nb as a,Ob as s,Pb as f,Uc as k,Vb as p,Wb as w,_,db as l,fa as m,gc as c,ib as g,ic as y,ld as T,nc as K,qb as F,sb as A,wb as V,za as E}from"./chunk-DANZYTWY.js";var ve={provide:j,useExisting:_(()=>x),multi:!0},ce={pint:/^[\d]*$/,int:/^[-]?[\d]*$/,pnum:/^[\d\.]*$/,money:/^[\d\.\s,]*$/,num:/^[-]?[\d\.]*$/,hex:/^[0-9a-f]*$/i,email:/^[a-z0-9_\.\-@]*$/i,alpha:/^[a-z_]*$/i,alphanum:/^[a-z0-9_]*$/i},C={TAB:9,RETURN:13,ESC:27,BACKSPACE:8,DELETE:46},fe={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},x=(()=>{class o{document;platformId;el;pValidateOnly;set pattern(t){this._pattern=t,t instanceof RegExp?this.regex=t:t in ce?this.regex=ce[t]:this.regex=/./}get pattern(){return this._pattern}ngModelChange=new E;regex=/./;_pattern;isAndroid;lastValue;constructor(t,e,i){this.document=t,this.platformId=e,this.el=i,T(this.platformId)?this.isAndroid=B():this.isAndroid=!1}isNavKeyPress(t){let e=t.keyCode;return e=h().safari&&fe[e]||e,e>=33&&e<=40||e==C.RETURN||e==C.TAB||e==C.ESC}isSpecialKey(t){let e=t.keyCode||t.charCode;return e==9||e==13||e==27||e==16||e==17||e>=18&&e<=20||h().opera&&!t.shiftKey&&(e==8||e>=33&&e<=35||e>=36&&e<=39||e>=44&&e<=45)}getKey(t){let e=t.keyCode||t.charCode;return h().safari&&fe[e]||e}getCharCode(t){return t.charCode||t.keyCode||t.which}findDelta(t,e){let i="";for(let r=0;r<t.length;r++)t.substr(0,r)+t.substr(r+t.length-e.length)===e&&(i=t.substr(r,t.length-e.length));return i}isValidChar(t){return this.regex.test(t)}isValidString(t){for(let e=0;e<t.length;e++)if(!this.isValidChar(t.substr(e,1)))return!1;return!0}onInput(t){if(this.isAndroid&&!this.pValidateOnly){let e=this.el.nativeElement.value,i=this.lastValue||"",r=this.findDelta(e,i),n=this.findDelta(i,e);r.length>1||!r&&!n?this.isValidString(e)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)):n||this.isValidChar(r)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)),e=this.el.nativeElement.value,this.isValidString(e)&&(this.lastValue=e)}}onKeyPress(t){if(this.isAndroid||this.pValidateOnly)return;let e=h(),i=this.getKey(t);if(e.mozilla&&(t.ctrlKey||t.altKey))return;if(i==17||i==18||i==13)return;let r=this.getCharCode(t),n=String.fromCharCode(r),v=!0;if(!e.mozilla&&(this.isSpecialKey(t)||!n))return;let he=(this.el.nativeElement.value||"")+n;v=this.regex.test(he),v||t.preventDefault()}onPaste(t){let e=t.clipboardData||this.document.defaultView.clipboardData.getData("text");if(e){let i=/\{[0-9]+\}/,r=e.getData("text");if(i.test(this.regex.toString())){if(!this.regex.test(r)){t.preventDefault();return}}else for(let n of r.toString())if(!this.regex.test(n)){t.preventDefault();return}}}validate(t){if(this.pValidateOnly){let e=this.el.nativeElement.value;if(e&&!this.regex.test(e))return{validatePattern:!1}}}static \u0275fac=function(e){return new(e||o)(g(k),g(M),g(I))};static \u0275dir=A({type:o,selectors:[["","pKeyFilter",""]],hostBindings:function(e,i){e&1&&p("input",function(n){return i.onInput(n)})("keypress",function(n){return i.onKeyPress(n)})("paste",function(n){return i.onPaste(n)})},inputs:{pValidateOnly:[2,"pValidateOnly","pValidateOnly",R],pattern:[0,"pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[K([ve])]})}return o})();function ye(o,d){if(o&1&&(a(0,"h1",5),c(1),s()),o&2){let t=w();l(),y(" ",t.environment.APP_SHORT_NAME," ")}}var b=class o{_formBuilder=m(q);_customMessageService=m(se);_authHttpService=m(de);_authService=m(le);_router=m(N);_reCaptchaV3Service=m(pe);environment=X;form;isRecaptcha=!0;constructor(){this.buildForm()}buildForm(){this.form=this._formBuilder.group({username:["admin",[S.required]],password:[null,[S.required]]})}executeRecaptcha(){this._reCaptchaV3Service.execute("").subscribe(d=>{console.log(d)})}executeRecaptchaVisible(d){console.log(d),this.isRecaptcha=!0}onSubmit(){console.log(this.form.value),this._authHttpService.signIn(this.form.value).subscribe(d=>{if(this._authService.roles.length===0){this._customMessageService.showError({summary:"Sin Rol",detail:"No cuenta con un rol asignado"}),this._authService.removeLogin();return}this._router.navigateByUrl("")})}getUsername(){return this.form.get("username")}getPassword(){return this.form.get("password")}PrimeIcons=H;static \u0275fac=function(t){return new(t||o)};static \u0275cmp=F({type:o,selectors:[["app-sign-in"]],decls:23,vars:10,consts:[[1,"bg-surface-50","dark:bg-surface-950","flex","items-center","justify-center","min-h-screen","min-w-[100vw]","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.4rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 100%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-10","px-8","sm:px-6",2,"border-radius","53px"],[1,"text-center","mb-0"],[1,"text-red-500"],["src","images/logo.png","alt","","width","150"],[1,"text-surface-950","dark:text-surface-0","text-3xl","font-medium","mb-4"],[1,"text-muted-color","font-medium"],[3,"ngSubmit","formGroup"],["for","username",1,"block","text-surface-900","dark:text-surface-0","text-xl","font-medium","mb-2"],["pInputText","","pKeyFilter","int","id","username","type","text","placeholder","Ej. 1702030405","formControlName","username",1,"w-full","md:w-[39rem]","mb-4",3,"maxlength"],["for","password",1,"block","text-surface-900","dark:text-surface-0","font-medium","text-xl","mb-2"],["id","password","formControlName","password","placeholder","Ingrese su contrase\xF1a","styleClass","mb-4",3,"toggleMask","fluid","feedback"],[3,"resolved","siteKey"],["label","Iniciar Sesi\xF3n","styleClass","w-full",3,"onClick","icon","disabled"]],template:function(t,e){t&1&&(f(0,"app-floating-configurator"),a(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),V(6,ye,2,1,"h1",5),f(7,"img",6),a(8,"div",7),c(9," Iniciar Sesi\xF3n "),s(),a(10,"span",8),c(11),s()(),a(12,"form",9),p("ngSubmit",function(){return e.onSubmit()}),a(13,"div")(14,"label",10),c(15," N\xFAmero de c\xE9dula: "),s(),f(16,"input",11),s(),a(17,"div")(18,"label",12),c(19," Contrase\xF1a: "),s(),f(20,"p-password",13),s(),a(21,"re-captcha",14),p("resolved",function(r){return e.executeRecaptchaVisible(r)}),s(),a(22,"p-button",15),p("onClick",function(){return e.onSubmit()}),s()()()()()()),t&2&&(l(6),D(e.environment.production?6:-1),l(5),y(" Bienvenido a ",e.environment.APP_NAME," "),l(),u("formGroup",e.form),l(4),u("maxlength",10),l(4),u("toggleMask",!0)("fluid",!0)("feedback",!1),l(),u("siteKey",e.environment.RECAPTCHA_SITE_KEY),l(),u("icon",e.PrimeIcons.SIGN_IN)("disabled",!e.isRecaptcha))},dependencies:[ee,Z,ie,ne,re,ae,oe,J,$,O,G,L,Y,P,W,te,Q,U,z,ue,me,x],encapsulation:2})};export{b as default};
