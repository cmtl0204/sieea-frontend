import{a as T,b as fe,d as ge,e as b,g as _e,h as Q,i as he,k as ye,l as Te,m as $}from"./chunk-QHI6GL4R.js";import{a as me,c as de}from"./chunk-SO5ZPU35.js";import{r as ue}from"./chunk-OH2Y4EI7.js";import"./chunk-6ZFPSLVZ.js";import{$ as re,N as ne,Y as ie,Z as oe,_ as ae,aa as le,fa as ce,ia as se,ta as pe}from"./chunk-NILYRIL3.js";import{A as O,Ab as k,Bb as D,Cb as y,Db as G,Eb as H,Fb as d,Fc as J,Gb as Y,Hb as F,Hc as W,Ic as Z,Jb as u,Jc as ee,K as I,Lb as f,Lc as te,Mb as g,P,Qa as r,Qb as h,Rb as M,V as _,Xb as K,Yb as X,ba as N,bb as S,ca as j,fa as R,fb as U,gb as s,ic as v,n as w,nb as B,o as A,ob as l,ra as q,rb as L,sb as z,xb as p,yb as m,zb as V}from"./chunk-G6EWFTW4.js";import{e as x}from"./chunk-ACKELEN3.js";var we=["header"],Se=["title"],Fe=["subtitle"],Ee=["content"],Ie=["footer"],Re=["*",[["p-header"]],[["p-footer"]]],ke=["*","p-header","p-footer"];function De(e,n){e&1&&y(0)}function Me(e,n){if(e&1&&(p(0,"div",8),F(1,1),s(2,De,1,0,"ng-container",6),m()),e&2){let t=d();r(2),l("ngTemplateOutlet",t.headerTemplate||t._headerTemplate)}}function Qe(e,n){if(e&1&&(k(0),h(1),D()),e&2){let t=d(2);r(),M(t.header)}}function $e(e,n){e&1&&y(0)}function Ae(e,n){if(e&1&&(p(0,"div",9),s(1,Qe,2,1,"ng-container",10)(2,$e,1,0,"ng-container",6),m()),e&2){let t=d();r(),l("ngIf",t.header&&!t._titleTemplate&&!t.titleTemplate),r(),l("ngTemplateOutlet",t.titleTemplate||t._titleTemplate)}}function Oe(e,n){if(e&1&&(k(0),h(1),D()),e&2){let t=d(2);r(),M(t.subheader)}}function Pe(e,n){e&1&&y(0)}function Ne(e,n){if(e&1&&(p(0,"div",11),s(1,Oe,2,1,"ng-container",10)(2,Pe,1,0,"ng-container",6),m()),e&2){let t=d();r(),l("ngIf",t.subheader&&!t._subtitleTemplate&&!t.subtitleTemplate),r(),l("ngTemplateOutlet",t.subtitleTemplate||t._subtitleTemplate)}}function je(e,n){e&1&&y(0)}function qe(e,n){e&1&&y(0)}function Ue(e,n){if(e&1&&(p(0,"div",12),F(1,2),s(2,qe,1,0,"ng-container",6),m()),e&2){let t=d();r(2),l("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var Be=({dt:e})=>`
.p-card {
    background: ${e("card.background")};
    color: ${e("card.color")};
    box-shadow: ${e("card.shadow")};
    border-radius: ${e("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${e("card.caption.gap")};
}

.p-card-body {
    padding: ${e("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${e("card.body.gap")};
}

.p-card-title {
    font-size: ${e("card.title.font.size")};
    font-weight: ${e("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${e("card.subtitle.color")};
}
`,Le={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},ve=(()=>{class e extends ce{name="card";theme=Be;classes=Le;static \u0275fac=(()=>{let t;return function(i){return(t||(t=R(e)))(i||e)}})();static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();var be=(()=>{class e extends se{header;subheader;set style(t){ne(this._style(),t)||this._style.set(t)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=q(null);_componentStyle=_(ve);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"title":this._titleTemplate=t.template;break;case"subtitle":this._subtitleTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=R(e)))(i||e)}})();static \u0275cmp=S({type:e,selectors:[["p-card"]],contentQueries:function(a,i,c){if(a&1&&(u(c,oe,5),u(c,ae,5),u(c,we,4),u(c,Se,4),u(c,Fe,4),u(c,Ee,4),u(c,Ie,4),u(c,re,4)),a&2){let o;f(o=g())&&(i.headerFacet=o.first),f(o=g())&&(i.footerFacet=o.first),f(o=g())&&(i.headerTemplate=o.first),f(o=g())&&(i.titleTemplate=o.first),f(o=g())&&(i.subtitleTemplate=o.first),f(o=g())&&(i.contentTemplate=o.first),f(o=g())&&(i.footerTemplate=o.first),f(o=g())&&(i.templates=o)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[K([ve]),U],ngContentSelectors:ke,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(a,i){a&1&&(Y(Re),p(0,"div",0),s(1,Me,3,1,"div",1),p(2,"div",2),s(3,Ae,3,2,"div",3)(4,Ne,3,2,"div",4),p(5,"div",5),F(6),s(7,je,1,0,"ng-container",6),m(),s(8,Ue,3,1,"div",7),m()()),a&2&&(z(i.styleClass),l("ngClass","p-card p-component")("ngStyle",i._style()),B("data-pc-name","card"),r(),l("ngIf",i.headerFacet||i.headerTemplate||i._headerTemplate),r(2),l("ngIf",i.header||i.titleTemplate||i._titleTemplate),r(),l("ngIf",i.subheader||i.subtitleTemplate||i._subtitleTemplate),r(3),l("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),r(),l("ngIf",i.footerFacet||i.footerTemplate||i._footerTemplate))},dependencies:[te,J,W,ee,Z,le],encapsulation:2,changeDetection:0})}return e})();var ze=()=>({width:"25rem",overflow:"hidden"});function Ve(e,n){e&1&&V(0,"img",4)}function Ge(e,n){e&1&&h(0," Ecuatorianos en Acci\xF3n - turismo ")}function He(e,n){e&1&&h(0," Este curso forma parte del Programa Ecuatorianos en Acci\xF3n (secci\xF3n Turismo). ")}function Ye(e,n){if(e&1){let t=G();p(0,"div",5)(1,"p-button",6),H("onClick",function(){N(t);let i=d();return j(i.linkToMoodle())}),m()()}if(e&2){let t=d();r(),l("icon",t.PrimeIcons.EXTERNAL_LINK)}}var E=class e{_authService=_(de);_customMessageService=_(me);uploadedFiles=[];step=0;downloadURL="";storage=_(fe);firestore=_(he);archivos=[];constructor(){}onUpload(n){for(let t of n.files)this.uploadedFiles.push(t);this.subirYGuardarArchivo$(n.files[0]).subscribe(),this._customMessageService.showSuccess({summary:"Archivo Subido",detail:""})}uploadFile(n){return x(this,null,function*(){let t=n.name.split(".").pop(),i=`tasks/${new Date().getTime()}.${t}`,c=T(this.storage,i),o=yield Q(c,n),C=yield b(o.ref);return console.log(C),C})}getDownloadURLFromPath(){let n=T(this.storage,"tasks/1744392880395.pdf");b(n).then(t=>{this.downloadURL=t})}listarArchivosEnTasks(){return x(this,null,function*(){let n=T(this.storage,"tasks/"),t=yield _e(n),a=[];for(let i of t.items){let c=yield b(i);a.push({name:i.name,url:c})}return console.log(a),a})}eliminarArchivo(){return x(this,null,function*(){let n=T(this.storage,"tasks/1744392880395.pdf");try{yield ge(n),console.log("\u2705 Archivo eliminado:","tasks/1744392880395.pdf")}catch(t){console.error("\u274C Error al eliminar el archivo:",t)}})}subirYGuardarArchivo$(n){let t=n.name.split(".").pop(),a=new Date().getTime(),i=`tasks/${this._authService.auth.id}/${a}`,c=T(this.storage,i);return w(Q(c,n)).pipe(I(o=>w(b(o.ref))),I(o=>{let C={nombre:n.name,url:o,extension:t,size:n.size,tipo:n.type,rutaStorage:i,subidoEn:new Date},Ce=$(this.firestore,"archivos_subidos");return w(Te(Ce,C))}),O(o=>(console.error("\u274C Error en el proceso:",o),A(null))))}getArchivos$(){let n=$(this.firestore,"archivos_subidos");return ye(n)}ngOnInit(){this.getArchivos$().subscribe(n=>{this.archivos=n})}download(n){window.open(n,"_blank")}PrimeIcons=ie;linkToMoodle(){window.open("https://capacitacion.turismo.gob.ec:8443/moodle/","_blank")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=S({type:e,selectors:[["app-training"]],decls:11,vars:3,consts:[["header",""],["title",""],["subtitle",""],["footer",""],["alt","Card","src","images/components/training/trainign_eea.png","height","200px",1,"w-full"],[1,"flex","gap-4","mt-1"],["label","Ir","styleClass","w-full",1,"w-full",3,"onClick","icon"]],template:function(t,a){t&1&&(p(0,"p-card"),s(1,Ve,1,0,"ng-template",null,0,v)(3,Ge,1,0,"ng-template",null,1,v)(5,He,1,0,"ng-template",null,2,v),p(7,"p"),h(8," Se lo ha estructurado en tres unidades: Unidad 1 Cultura tur\xEDstica, Unidad 2 Hospitalidad y Anfitri\xF3n tur\xEDstico, Unidad 3 Calidad en el servicio "),m(),s(9,Ye,2,1,"ng-template",null,3,v),m()),t&2&&L(X(2,ze))},dependencies:[ue,pe,be],encapsulation:2})};var Qt=[{path:"",component:E}];export{Qt as default};
