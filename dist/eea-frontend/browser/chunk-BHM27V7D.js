import{a as M,b as R,c as V,g as $}from"./chunk-IYUJWPEN.js";import{M as o,W as K,e as D}from"./chunk-BBXWWWUQ.js";import{Eb as I,M as p,O as c,P as m,Qc as E,V as d,Va as f,Xb as S,db as C,ma as g,qa as v,qc as _,s as l,va as y,zc as A}from"./chunk-BXX64NYW.js";var H=class a{_httpClient=d(D);_apiUrl=`${M.API_URL}/users`;_customMessageService=d(R);_coreService=d(V);findAll(){return this._httpClient.get(`${this._apiUrl}`).pipe(l(s=>s.data))}findPersonalInformation(s){return this._httpClient.get(`${this._apiUrl}/${s}/personal-information`).pipe(l(t=>t.data))}findBankDetail(s){return this._httpClient.get(`${this._apiUrl}/${s}/bank-detail`).pipe(l(t=>t.data))}updatePersonalInformation(s,t){return this._httpClient.put(`${this._apiUrl}/${s}/personal-information`,t).pipe(p(e=>{this._customMessageService.showHttpSuccess(e)}))}updateEmail(s,t){return this._httpClient.patch(`${this._apiUrl}/${s}/email`,{email:t}).pipe(p(e=>{this._customMessageService.showHttpSuccess(e)}))}updateBankDetail(s,t){return this._httpClient.put(`${this._apiUrl}/${s}/bank-detail`,t).pipe(p(e=>{this._customMessageService.showHttpSuccess(e)}))}static \u0275fac=function(t){return new(t||a)};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})};var b={provide:$,useExisting:c(()=>w),multi:!0},P={pint:/^[\d]*$/,int:/^[-]?[\d]*$/,pnum:/^[\d\.]*$/,money:/^[\d\.\s,]*$/,num:/^[-]?[\d\.]*$/,hex:/^[0-9a-f]*$/i,email:/^[a-z0-9_\.\-@]*$/i,alpha:/^[a-z_]*$/i,alphanum:/^[a-z0-9_]*$/i},u={TAB:9,RETURN:13,ESC:27,BACKSPACE:8,DELETE:46},x={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},w=(()=>{class a{document;platformId;el;pValidateOnly;set pattern(t){this._pattern=t,t instanceof RegExp?this.regex=t:t in P?this.regex=P[t]:this.regex=/./}get pattern(){return this._pattern}ngModelChange=new g;regex=/./;_pattern;isAndroid;lastValue;constructor(t,e,i){this.document=t,this.platformId=e,this.el=i,E(this.platformId)?this.isAndroid=K():this.isAndroid=!1}isNavKeyPress(t){let e=t.keyCode;return e=o().safari&&x[e]||e,e>=33&&e<=40||e==u.RETURN||e==u.TAB||e==u.ESC}isSpecialKey(t){let e=t.keyCode||t.charCode;return e==9||e==13||e==27||e==16||e==17||e>=18&&e<=20||o().opera&&!t.shiftKey&&(e==8||e>=33&&e<=35||e>=36&&e<=39||e>=44&&e<=45)}getKey(t){let e=t.keyCode||t.charCode;return o().safari&&x[e]||e}getCharCode(t){return t.charCode||t.keyCode||t.which}findDelta(t,e){let i="";for(let r=0;r<t.length;r++)t.substr(0,r)+t.substr(r+t.length-e.length)===e&&(i=t.substr(r,t.length-e.length));return i}isValidChar(t){return this.regex.test(t)}isValidString(t){for(let e=0;e<t.length;e++)if(!this.isValidChar(t.substr(e,1)))return!1;return!0}onInput(t){if(this.isAndroid&&!this.pValidateOnly){let e=this.el.nativeElement.value,i=this.lastValue||"",r=this.findDelta(e,i),n=this.findDelta(i,e);r.length>1||!r&&!n?this.isValidString(e)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)):n||this.isValidChar(r)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)),e=this.el.nativeElement.value,this.isValidString(e)&&(this.lastValue=e)}}onKeyPress(t){if(this.isAndroid||this.pValidateOnly)return;let e=o(),i=this.getKey(t);if(e.mozilla&&(t.ctrlKey||t.altKey))return;if(i==17||i==18||i==13)return;let r=this.getCharCode(t),n=String.fromCharCode(r),h=!0;if(!e.mozilla&&(this.isSpecialKey(t)||!n))return;let k=(this.el.nativeElement.value||"")+n;h=this.regex.test(k),h||t.preventDefault()}onPaste(t){let e=t.clipboardData||this.document.defaultView.clipboardData.getData("text");if(e){let i=/\{[0-9]+\}/,r=e.getData("text");if(i.test(this.regex.toString())){if(!this.regex.test(r)){t.preventDefault();return}}else for(let n of r.toString())if(!this.regex.test(n)){t.preventDefault();return}}}validate(t){if(this.pValidateOnly){let e=this.el.nativeElement.value;if(e&&!this.regex.test(e))return{validatePattern:!1}}}static \u0275fac=function(e){return new(e||a)(f(A),f(y),f(v))};static \u0275dir=C({type:a,selectors:[["","pKeyFilter",""]],hostBindings:function(e,i){e&1&&I("input",function(n){return i.onInput(n)})("keypress",function(n){return i.onKeyPress(n)})("paste",function(n){return i.onPaste(n)})},inputs:{pValidateOnly:[2,"pValidateOnly","pValidateOnly",_],pattern:[0,"pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[S([b])]})}return a})();export{H as a,w as b};
