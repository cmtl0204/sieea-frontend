import{a as Y,b as Q}from"./chunk-3CETPCZI.js";import{a as J,b as K}from"./chunk-RNX5ZUBP.js";import{a as L}from"./chunk-5HSAOL7C.js";import"./chunk-SMZRKWGV.js";import"./chunk-WTBP2LYV.js";import{a as z}from"./chunk-IE4355C3.js";import{a as U}from"./chunk-OHER5PLG.js";import{a as k}from"./chunk-GOQ3JMUW.js";import"./chunk-MPLAKOWK.js";import"./chunk-DPC2C23C.js";import{a as V}from"./chunk-WSK4CE6J.js";import"./chunk-MJNRKRDT.js";import{a as q,b as O}from"./chunk-AF3X7UOH.js";import{a as A}from"./chunk-RJ6ODVGJ.js";import"./chunk-VGCEVFP6.js";import"./chunk-WCGJ44IN.js";import{a as C,b as w,c as E,d as M,f as N,h as u,j as P,k as T,n as B,p as D,r as G,t as H,u as R,v as j}from"./chunk-UOAM75BV.js";import{Na as I,Pa as _,Qa as F,m as S,ra as y,s as x}from"./chunk-RIYVHW5G.js";import{Ab as e,Bb as i,Gb as b,Hb as h,Sa as o,Sb as m,Ub as p,W as t,db as f,ib as g,qb as d,vb as v,zb as r}from"./chunk-5MZ4X5ZA.js";import"./chunk-ACKELEN3.js";function W(s,l){if(s&1&&(r(0,"h1",5),m(1),e()),s&2){let n=h();o(),p(" ",n.environment.APP_SHORT_NAME," ")}}var c=class s{_formBuilder=t(H);_customMessageService=t(w);_authHttpService=t(U);_userHttpService=t(z);_authService=t(M);_coreService=t(E);_router=t(S);PrimeIcons=y;environment=C;form;formErrors=[];validationType="";dateLabel="";years=[];months=[];days=[];identification;constructor(){this.buildForm()}buildForm(){this.form=this._formBuilder.group({username:[null,[u.required]],password:[null,[u.required]]})}onSubmit(){if(!this.validateForm()){this.form.markAllAsTouched(),this._customMessageService.showFormErrors(this.formErrors);return}this.signIn()}signIn(){this._authHttpService.signIn(this.form.value).subscribe({next:l=>{if(l.roles.length===1){this._router.navigateByUrl(k.pages.internalStates.absolute);return}}})}validateForm(){return this.formErrors=[],this.usernameField.invalid&&this.formErrors.push("Usuario"),this.passwordField.invalid&&this.formErrors.push("Contrase\xF1a"),this.formErrors.length===0}get usernameField(){return this.form.controls.username}get passwordField(){return this.form.controls.password}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=f({type:s,selectors:[["app-internal-sign-in"]],decls:25,vars:7,consts:[[1,"bg-surface-50","dark:bg-surface-950","flex","items-center","justify-center","min-h-screen","min-w-[100vw]","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.4rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 100%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-10","px-8","sm:px-6",2,"border-radius","53px"],[1,"text-center","mb-0"],[1,"text-red-500"],["src","images/logo.png","alt","","width","150"],[1,"text-surface-950","dark:text-surface-0","text-3xl","font-medium","mb-4"],[1,"text-muted-color","font-medium"],[3,"ngSubmit","formGroup"],["for","username",1,"block","text-surface-900","dark:text-surface-0","text-xl","font-medium","mb-2"],["pInputText","","id","username","type","text","placeholder","Ej. juan.perez@turismo.gob.ec","formControlName","username",1,"w-full","md:w-[39rem]","mb-4"],["for","password",1,"block","text-surface-900","dark:text-surface-0","text-xl","font-medium","mb-2"],["id","password","type","text","formControlName","password",3,"toggleMask","feedback"],["type","submit","label","Continuar","styleClass","w-full",3,"loading","icon"]],template:function(n,a){n&1&&(i(0,"app-floating-configurator"),r(1,"p-fluid")(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),g(7,W,2,1,"h1",5),i(8,"img",6),r(9,"div",7),m(10," Iniciar Sesi\xF3n - Usuario Interno "),e(),r(11,"span",8),m(12),e()(),i(13,"p-divider"),r(14,"form",9),b("ngSubmit",function(){return a.onSubmit()}),r(15,"div")(16,"label",10),m(17," Correo electr\xF3nico: "),e(),i(18,"input",11),e(),r(19,"div")(20,"label",12),m(21," Contrase\xF1a: "),e(),i(22,"p-password",13),e(),i(23,"p-divider")(24,"p-button",14),e()()()()()()),n&2&&(o(7),v(a.environment.production?-1:7),o(5),p(" Bienvenido a ",a.environment.APP_NAME," "),o(2),d("formGroup",a.form),o(8),d("toggleMask",!0)("feedback",!1),o(2),d("loading",a._coreService.loading())("icon",a.PrimeIcons.SIGN_IN))},dependencies:[F,_,Y,O,q,K,J,R,B,N,P,T,x,I,j,D,G,L,Q,A,V],encapsulation:2})};export{c as default};
