import{t as D,u as n,w as a}from"./chunk-BBXWWWUQ.js";import{Eb as S,P as m,Q as y,Ua as k,Va as d,cb as M,db as L,f as h,na as p,qa as b,qc as g,ra as u,tc as r,uc as v}from"./chunk-BXX64NYW.js";import{a as o,b as c}from"./chunk-ACKELEN3.js";var K=(()=>{class i{el;renderer;zone;constructor(e,s,l){this.el=e,this.renderer=s,this.zone=l}selector;set enterClass(e){this._enterClass=e,console.log("enterClass is deprecated, use enterFromClass instead")}get enterClass(){return this._enterClass}enterFromClass;enterActiveClass;enterToClass;set leaveClass(e){this._leaveClass=e,console.log("leaveClass is deprecated, use leaveFromClass instead")}get leaveClass(){return this._leaveClass}leaveFromClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;_enterClass;_leaveClass;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():this.target?.offsetParent===null?this.enter():this.leave()}toggle(){D(this.target,this.toggleClass)?a(this.target,this.toggleClass):n(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,this.enterActiveClass==="animate-slidedown"&&(this.target.style.height="0px",a(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",n(this.target,"hidden"),this.target.style.height=""),n(this.target,this.enterActiveClass),(this.enterClass||this.enterFromClass)&&a(this.target,this.enterClass||this.enterFromClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{a(this.target,this.enterActiveClass),this.enterToClass&&n(this.target,this.enterToClass),this.enterListener&&this.enterListener(),this.enterActiveClass==="animate-slidedown"&&(this.target.style.maxHeight=""),this.animating=!1})):((this.enterClass||this.enterFromClass)&&a(this.target,this.enterClass||this.enterFromClass),this.enterToClass&&n(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,n(this.target,this.leaveActiveClass),(this.leaveClass||this.leaveFromClass)&&a(this.target,this.leaveClass||this.leaveFromClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{a(this.target,this.leaveActiveClass),this.leaveToClass&&n(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):((this.leaveClass||this.leaveFromClass)&&a(this.target,this.leaveClass||this.leaveFromClass),this.leaveToClass&&n(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",e=>{!this.isVisible()||getComputedStyle(this.target).getPropertyValue("position")==="static"?this.unbindDocumentClickListener():this.isOutsideClick(e)&&this.leave()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",e=>{let{key:s,keyCode:l,which:C,type:f}=e;(!this.isVisible()||getComputedStyle(this.target).getPropertyValue("position")==="static")&&this.unbindDocumentKeydownListener(),this.isVisible()&&s==="Escape"&&l===27&&C===27&&this.leave()})})}isVisible(){return this.target.offsetParent!==null}isOutsideClick(e){return!this.el.nativeElement.isSameNode(e.target)&&!this.el.nativeElement.contains(e.target)&&!this.target.contains(e.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(s){return new(s||i)(d(b),d(k),d(p))};static \u0275dir=L({type:i,selectors:[["","pStyleClass",""]],hostBindings:function(s,l){s&1&&S("click",function(f){return l.clickListener(f)})},inputs:{selector:[0,"pStyleClass","selector"],enterClass:"enterClass",enterFromClass:"enterFromClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveFromClass:"leaveFromClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:[2,"hideOnOutsideClick","hideOnOutsideClick",g],toggleClass:"toggleClass",hideOnEscape:[2,"hideOnEscape","hideOnEscape",g]}})}return i})(),V=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=M({type:i});static \u0275inj=y({})}return i})();var O=class i{_config={preset:"Material",primary:"indigo",surface:null,darkTheme:!1,menuMode:"static"};_state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1};layoutConfig=u(this._config);layoutState=u(this._state);configUpdate=new h;overlayOpen=new h;menuSource=new h;resetSource=new h;menuSource$=this.menuSource.asObservable();resetSource$=this.resetSource.asObservable();configUpdate$=this.configUpdate.asObservable();overlayOpen$=this.overlayOpen.asObservable();theme=r(()=>this.layoutConfig()?.darkTheme?"light":"dark");isSidebarActive=r(()=>this.layoutState().overlayMenuActive||this.layoutState().staticMenuMobileActive);isDarkTheme=r(()=>this.layoutConfig().darkTheme);getPrimary=r(()=>this.layoutConfig().primary);getSurface=r(()=>this.layoutConfig().surface);isOverlay=r(()=>this.layoutConfig().menuMode==="overlay");transitionComplete=u(!1);initialized=!1;constructor(){v(()=>{this.layoutConfig()&&this.onConfigUpdate()}),v(()=>{let t=this.layoutConfig();if(!this.initialized||!t){this.initialized=!0;return}this.handleDarkModeTransition(t)})}handleDarkModeTransition(t){document.startViewTransition?this.startViewTransition(t):(this.toggleDarkMode(t),this.onTransitionEnd())}startViewTransition(t){document.startViewTransition(()=>{this.toggleDarkMode(t)}).ready.then(()=>{this.onTransitionEnd()}).catch(()=>{})}toggleDarkMode(t){(t||this.layoutConfig()).darkTheme?document.documentElement.classList.add("app-dark"):document.documentElement.classList.remove("app-dark")}onTransitionEnd(){this.transitionComplete.set(!0),setTimeout(()=>{this.transitionComplete.set(!1)})}onMenuToggle(){this.isOverlay()&&(this.layoutState.update(t=>c(o({},t),{overlayMenuActive:!this.layoutState().overlayMenuActive})),this.layoutState().overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.layoutState.update(t=>c(o({},t),{staticMenuDesktopInactive:!this.layoutState().staticMenuDesktopInactive})):(this.layoutState.update(t=>c(o({},t),{staticMenuMobileActive:!this.layoutState().staticMenuMobileActive})),this.layoutState().staticMenuMobileActive&&this.overlayOpen.next(null))}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}onConfigUpdate(){this._config=o({},this.layoutConfig()),this.configUpdate.next(this.layoutConfig())}onMenuStateChange(t){this.menuSource.next(t)}reset(){this.resetSource.next(!0)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})};export{K as a,V as b,O as c};
